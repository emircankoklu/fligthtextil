{% extends 'gallery/base.html' %}

{% block title %}{{ product.title }}{% endblock %}

{% block content %}
<div class="container" style="margin-top: 2rem;">
    <a href="{% url 'category_detail' product.category.slug %}" class="back-btn">&larr; {{ product.category.name }}
        kategorisine dön</a>

    <div class="product-detail">
        <div class="product-gallery">
            {% if product.images.first %}
            <img id="mainImage" src="{{ product.images.first.image.url }}" alt="{{ product.title }}" class="main-image">
            <div class="thumbnails">
                {% for img in product.images.all %}
                <img src="{{ img.image.url }}" alt="Küçük görsel"
                    onclick="document.getElementById('mainImage').src='{{ img.image.url }}'">
                {% endfor %}
            </div>
            {% else %}
            <div class="main-image"
                style="height: 400px; background: #333; display: flex; align-items: center; justify-content: center;">Görsel
                Yok</div>
            {% endif %}
        </div>
        <div class="product-info">
            <h1>{{ product.title }}</h1>
            <div class="price-tag">₺{{ product.price }}</div>
            <div class="description">
                {{ product.description|linebreaks }}
            </div>
            <p style="margin-top: 2rem; color: #777; font-size: 0.9rem;">
                Kategori: <a href="{% url 'category_detail' product.category.slug %}">{{ product.category.name
                    }}</a><br>
                Eklendi: {{ product.created_at|date:"d.m.Y" }}
            </p>
        </div>
    </div>
</div>
{% endblock %}